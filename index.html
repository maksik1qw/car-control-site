
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –®–µ—Ä—Ö–∞–Ω –ú–∞–≥–∏–∫–∞—Ä –ê–ë</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #f0f0f0; padding: 20px; }
    h1 { color: #2c3e50; margin-bottom: 30px; }
    button { display: block; width: 80%; max-width: 300px; margin: 15px auto; padding: 16px; border: none; border-radius: 10px; font-size: 18px; cursor: pointer; }
    .lock { background-color: #3498db; color: white; }
    .unlock { background-color: #2ecc71; color: white; }
    .arm { background-color: #e74c3c; color: white; }
    .disarm { background-color: #f39c12; color: white; }
    .start { background-color: #9b59b6; color: white; }
  </style>
</head>
<body>
  <h1>üöó –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –®–µ—Ä—Ö–∞–Ω –ú–∞–≥–∏–∫–∞—Ä –ê–ë</h1>
  <button class="lock" onclick="sendCommand('LOCK')">üîí –ó–∞–∫—Ä—ã—Ç—å –∑–∞–º–∫–∏</button>
  <button class="unlock" onclick="sendCommand('UNLOCK')">üîì –û—Ç–∫—Ä—ã—Ç—å –∑–∞–º–∫–∏</button>
  <button class="arm" onclick="sendCommand('ARM')">üõ°Ô∏è –ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –æ—Ö—Ä–∞–Ω—É</button>
  <button class="disarm" onclick="sendCommand('DISARM')">‚ö†Ô∏è –°–Ω—è—Ç—å —Å –æ—Ö—Ä–∞–Ω—ã</button>
  <button class="start" onclick="sendCommand('START')">‚ö° –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫</button>

  <script>
    const deviceId = "arenmmemr8pbuh198l6p"; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Device ID
    const iamToken = "1.9euelZrNnJqdi8bJmozGmIyQzpqbi-3rnpWayZSXz5TNzZzNxpmUkZ6VyJPl8_dOWTk5-e8gEkg-_d3z9w4INzn57yASSD79zef1656VmonOmJOSzM-Uyo_IjpfKnoyW7_zF656VmonOmJOSzM-Uyo_IjpfKnoyW.9mxSoZo7mNwlHzRvZqqIfrwHPT4rI0vMluy0djok-B6BOm6t9Qk2hPgLCDRR4R_cfL4crhhUTgQjqQZ68aIpCg"; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à IAM-—Ç–æ–∫–µ–Ω

    async function sendCommand(command) {
      const url = `https://iot.cloud.yandex.net/v1/devices/${deviceId}/commands`;
      const payload = {
        topic: `$devices/${deviceId}/commands`,
        payload: command,
      };

      try {
        const response = await fetch(url, {
          method: "POST",
          headers: {
            Authorization: `Bearer ${iamToken}`,
            "Content-Type": "application/json",
          },
          body: JSON.stringify(payload),
        });

        if (response.ok) {
          alert(`–ö–æ–º–∞–Ω–¥–∞ "${command}" –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!`);
        } else {
          alert(`–û—à–∏–±–∫–∞: ${response.statusText}`);
        }
      } catch (error) {
        alert("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ —Ç–æ–∫–µ–Ω.");
      }
    }
  </script>
</body>
</html>
